{
    "type": [
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        3,
        0,
        1,
        2,
        3,
        0,
        1,
        2,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        3,
        0,
        1,
        2,
        2,
        0,
        1,
        2,
        2,
        2,
        0,
        1,
        3,
        3,
        2,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        3,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        3,
        0,
        1,
        2,
        3,
        0,
        1,
        2,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        2,
        0,
        1,
        3,
        3,
        2
    ],
    "data": [
        "+ ",
        "  GT <- make_GT(OM,nT=tagnos[tn],RD=TDs[tt],ryrs=ryrs)",
        "+ ",
        "  GT$GTcheck=F",
        "+ ",
        "  obj<-new('MSE_GT',OM,MPs,GT=GT)",
        "+ ",
        "  saveRDS(obj,paste0(\"C:/temp/MSEs_GT/Closed_loop/MSE_\",tt,\"_\",oo,\"_\",tn))",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "sapply(1:2,doMSEfunc,MPs=MPs)",
        "Constructing arrays\nCalculating historical fishing mortality rate at length (computationally intensive)\nInitializing simulations\nRunning historical simulations\nRunning projections\n1/3 Running MSE for: ZeroC (East)  ZeroC (West)\n.........................\n2/3 Running MSE for: GT2 (East)  GT2 (West)\n.....",
        "Error in checkForRemoteErrors(val) : \n  4 nodes produced errors; first error: only 0's may be mixed with negative subscripts\n",
        "> ",
        "x",
        "[1] 1\n",
        "> ",
        "AS",
        "[1] 1\n",
        "> ",
        "smooth<-function(xx,plot=F,enp.mult,plotname=\"\"){",
        "+ ",
        "    if(length(xx)>8){",
        "+ ",
        "      tofill<-!is.na(xx)",
        "+ ",
        "      xx[xx==0]<-1E3",
        "+ ",
        "      predout<-rep(NA,length(xx))",
        "+ ",
        "      dat<-data.frame(x=1:length(xx),y=log(xx))",
        "+ ",
        "      enp.target<-sum(tofill)*enp.mult",
        "+ ",
        "      out<-loess(y~x,dat=dat,enp.target=enp.target)",
        "+ ",
        "      predout[tofill]<-exp(predict(out))",
        "+ ",
        "      if(plot){",
        "+ ",
        "        plot(xx,type=\"p\",xlab=\"x\",ylab=\"y\",main=plotname)",
        "+ ",
        "        lines(predout,col=\"#ff000090\",lwd=2)",
        "+ ",
        "      }",
        "+ ",
        "    }else{",
        "+ ",
        "      predout<-mean(xx[length(xx)-(0:1)])",
        "+ ",
        "    }",
        "+ ",
        "    predout",
        "+ ",
        "  }",
        "> ",
        "",
        "> ",
        "  tag_data<-get_my_tag_data(x,dset,AS,trimstart = 0)# tagtrim(get_my_tag_data(x,dset,AS),nyears=6)",
        "> ",
        "  est <- Brownie(tag_data,fix_M = TRUE, M = 0.125, latency = 1, report_rate = 1,",
        "+ ",
        "                 fix_retain = TRUE, retain = 1) # Estimate M",
        "Warning: 5 external pointers will be removed\n",
        "> ",
        "",
        "> ",
        "  lastTACyr<-length(dset[[AS]]$TAC[x,])-1",
        "> ",
        "  lastTAC<-dset[[AS]]$TAC[x,lastTACyr]",
        "> ",
        "is.na(est$report$NLL[1]",
        "+ ",
        ")",
        "[1] FALSE\n",
        "> ",
        "Find <- rownames(est$SD$cov.fixed) == \"log_F\"",
        "> ",
        "    #SD_logF <- est$SD$cov.fixed[Find, Find] %>% diag() %>% sqrt()",
        "> ",
        "    Uest<-1-exp(-exp(est$opt$par[Find]))",
        "> ",
        "    #Usmooth<-smooth(Uest,plot=F,enp.mult = enp.mult)",
        "> ",
        "",
        "> ",
        "    #rat<-targU/Usmooth[length(Usmooth)]",
        "> ",
        "    rat<-targU/mean(Uest[length(Uest)-(0:2)])",
        "Error in Uest[length(Uest) - (0:2)] : \n  only 0's may be mixed with negative subscripts\n",
        "> ",
        "length(Uest)",
        "[1] 1\n",
        "> ",
        "tag_data",
        "$N_tag\n[1] 126\n\n$N_recap\n     [,1]\n[1,]    0\n\n",
        "> ",
        " thisyr<-length(dset[[1]]$Iobs[x,1,])",
        "> ",
        "thisyr",
        "[1] 57\n",
        "> ",
        "OM_1t@proyears",
        "[1] 54\n",
        "> ",
        "OM_1t@nyears",
        "[1] 55\n",
        "> ",
        "MPlag",
        "[1] 4\n",
        "> ",
        "OM<-readRDS(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Testing/OMtest.rda\")",
        "> ",
        "OM@interval",
        "[1] 2\n",
        "> ",
        "interval<-OM@interval",
        "> ",
        "nyears<-OM@nyears",
        "> ",
        "upyrs<-(nyears+MPlag)+(0:(floor((OM@proyears-2)/interval)-1))*interval",
        "> ",
        "upyrs",
        " [1] 59 61 63 65 67 69 71 73 75 77 79\n\nRestarting R session...\n\n\nRestarting R session...\n\n",
        "> ",
        "library(ABTGT)",
        "Loading required package: roxygen2\n",
        "Loading required package: ABTMSE\n",
        "Loading required package: snowfall\n",
        "Loading required package: snow\n",
        "Loading required package: maps\n",
        "Loading required package: mapdata\n",
        "Loading required package: wordcloud\n",
        "Loading required package: RColorBrewer\n",
        "Loading required package: abind\n",
        "Loading required package: PBSmapping\n",
        "\n-----------------------------------------------------------\nPBS Mapping 2.73.1 -- Copyright (C) 2003-2022 Fisheries and Oceans Canada\n\nPBS Mapping comes with ABSOLUTELY NO WARRANTY;\nfor details see the file COPYING.\nThis is free software, and you are welcome to redistribute\nit under certain conditions, as outlined in the above file.\n\nA complete user guide 'PBSmapping-UG.pdf' is located at \nC:/Program Files/R/R-4.2.1/library/PBSmapping/doc/PBSmapping-UG.pdf\n\nPackaged on 2022-07-12\nPacific Biological Station, Nanaimo\n\nAll available PBS packages can be found at\nhttps://github.com/pbs-software\n\nTo see demos, type '.PBSfigs()'.\n-----------------------------------------------------------\n\n\n",
        "Loading required package: MASS\n",
        "Loading required package: shiny\n",
        "Loading required package: parallel\n",
        "\nAttaching package: ‘parallel’\n\n",
        "The following objects are masked from ‘package:snow’:\n\n    clusterApply, clusterApplyLB, clusterCall, clusterEvalQ, clusterExport, clusterMap,\n    clusterSplit, makeCluster, parApply, parCapply, parLapply, parRapply, parSapply,\n    splitIndices, stopCluster\n\n",
        "Loading required package: lubridate\n",
        "\nAttaching package: ‘lubridate’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    date, intersect, setdiff, union\n\n",
        "Loading required package: rmarkdown\n",
        "Loading required package: knitr\n",
        "Loading required package: mvtnorm\n",
        "Loading required package: ggplot2\n",
        "Loading required package: dplyr\n",
        "\nAttaching package: ‘dplyr’\n\n",
        "The following object is masked from ‘package:MASS’:\n\n    select\n\n",
        "The following objects are masked from ‘package:stats’:\n\n    filter, lag\n\n",
        "The following objects are masked from ‘package:base’:\n\n    intersect, setdiff, setequal, union\n\n",
        "Loading required package: kableExtra\n",
        "\nAttaching package: ‘kableExtra’\n\n",
        "The following object is masked from ‘package:dplyr’:\n\n    group_rows\n\n",
        "Loading required package: DT\n",
        "\nAttaching package: ‘DT’\n\n",
        "The following objects are masked from ‘package:shiny’:\n\n    dataTableOutput, renderDataTable\n\n",
        "Loading required package: geoR\n",
        "--------------------------------------------------------------\n Analysis of Geostatistical Data\n For an Introduction to geoR go to http://www.leg.ufpr.br/geoR\n geoR version 1.9-2 (built on 2022-08-09) is now loaded\n--------------------------------------------------------------\n\n",
        "Loading required package: shinyBS\n",
        "Loading required package: shinyWidgets\n",
        "Loading required package: fmsb\n",
        "Loading required package: viridis\n",
        "Loading required package: viridisLite\n",
        "\nAttaching package: ‘viridis’\n\n",
        "The following object is masked from ‘package:maps’:\n\n    unemp\n\n",
        "Loading required package: reldist\n",
        "reldist: Relative Distribution Methods\nVersion 1.7-1 created on 2022-05-14.\ncopyright (c) 2003, Mark S. Handcock, University of California-Los Angeles\n For citation information, type citation(\"reldist\").\n Type help(package=\"reldist\") to get started.\n\n",
        "Loading required package: quantreg\n",
        "Loading required package: SparseM\n",
        "\nAttaching package: ‘SparseM’\n\n",
        "The following object is masked from ‘package:base’:\n\n    backsolve\n\n",
        "\nAttaching package: ‘ABTMSE’\n\n",
        "The following object is masked from ‘package:reldist’:\n\n    resplot\n\n",
        "Loading required package: PerformanceAnalytics\n",
        "Loading required package: xts\n",
        "Loading required package: zoo\n",
        "\nAttaching package: ‘zoo’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    as.Date, as.Date.numeric\n\n",
        "\nAttaching package: ‘xts’\n\n",
        "The following objects are masked from ‘package:dplyr’:\n\n    first, last\n\n",
        "\nAttaching package: ‘PerformanceAnalytics’\n\n",
        "The following object is masked from ‘package:ABTMSE’:\n\n    CDD\n\n",
        "The following object is masked from ‘package:wordcloud’:\n\n    textplot\n\n",
        "The following object is masked from ‘package:graphics’:\n\n    legend\n\n",
        "Loading required package: mc2d\n",
        "\nAttaching package: ‘mc2d’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    pmax, pmin\n\n",
        "> ",
        "library(ABTMSE)",
        "> ",
        "library(ABTGT)",
        "> ",
        "loadABT()",
        "ABT-MSE objects loaded\n",
        "> ",
        "",
        "> ",
        "setwd(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag\")",
        "> ",
        "OMs<-list.files(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs\",full.names = T,include.dirs = T)",
        "> ",
        "nOM <- length(OMs)",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/UMSY MPs.R\") # loads MPs",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/GTMP.R\")",
        "> ",
        "",
        "> ",
        "setwd(\"C:/GitHub/ABTGT/ABTGT/R\")",
        "> ",
        "#setwd(\"C:/Users/tcarruth/Documents/GitHub/ABTGT/ABTGT/R\")",
        "> ",
        "TDnam <- c(\"Rel. to catches\", \"Balanced\",\"Uniform\",\"Rel. to F\",\"Conv. Tag\",\"E. Tag\")",
        "> ",
        "TDs  <- c(\"Rel_cat_2019\",\"Balanced\",\"Uniform\",\"Rel_F_2019\",\"Conv_Tag\",\"E_Tag\")",
        "> ",
        "nTD<-length(TDs)",
        "> ",
        "ryrs<-25",
        "> ",
        "tagnos<-c(200,500)*ryrs # total releases over 10 years (average per year)",
        "> ",
        "ntn<-length(tagnos)",
        "> ",
        "",
        "> ",
        "ind<-expand.grid(6,1:nOM,1:ntn)",
        "> ",
        "",
        "> ",
        "dontrepeat=F",
        "> ",
        "MPs<-list(c(\"GT3\",\"GT3\"),",
        "+ ",
        "          c(\"GT4\",\"GT4\"))",
        "> ",
        "doMSEfunc<-function(x,MPs){",
        "+ ",
        "  tt<-ind[x,1]; oo<-ind[x,2]; tn<-ind[x,3]",
        "+ ",
        "  TD<-get(TDs[tt])",
        "+ ",
        "  #OM<-readRDS(OMs[oo])",
        "+ ",
        "  OM<-readRDS(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Testing/OMtest.rda\")",
        "+ ",
        "",
        "+ ",
        "  set.seed(1)",
        "+ ",
        "  OM@seed<-oo+20000",
        "+ ",
        "  GT <- make_GT(OM,nT=tagnos[tn],RD=TDs[tt],ryrs=ryrs)",
        "+ ",
        "  GT$GTcheck=F",
        "+ ",
        "  obj<-new('MSE_GT',OM,MPs,GT=GT)",
        "+ ",
        "  saveRDS(obj,paste0(\"C:/temp/MSEs_GT/Closed_loop/MSE_\",tt,\"_\",oo,\"_\",tn))",
        "+ ",
        "}",
        "> ",
        "sapply(1:2,doMSEfunc,MPs=MPs)",
        "Constructing arrays\nCalculating historical fishing mortality rate at length (computationally intensive)\nInitializing simulations\nRunning historical simulations\nRunning projections\n[1] \"MPlag = 4\"\n [1] \"upyrs = 59\" \"upyrs = 61\" \"upyrs = 63\" \"upyrs = 65\" \"upyrs = 67\" \"upyrs = 69\" \"upyrs = 71\"\n [8] \"upyrs = 73\" \"upyrs = 75\" \"upyrs = 77\" \"upyrs = 79\"\n1/3 Running MSE for: ZeroC (East)  ZeroC (West)\n.........................\n2/3 Running MSE for: GT3 (East)  GT3 (West)\n.....Warning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 4 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n\n3/3 Running MSE for: GT4 (East)  GT4 (West)\n.....Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 4 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n\nConstructing arrays\nCalculating historical fishing mortality rate at length (computationally intensive)\nInitializing simulations\nRunning historical simulations",
        "\nRunning projections\n[1] \"MPlag = 4\"\n [1] \"upyrs = 59\" \"upyrs = 61\" \"upyrs = 63\" \"upyrs = 65\" \"upyrs = 67\" \"upyrs = 69\" \"upyrs = 71\"\n [8] \"upyrs = 73\" \"upyrs = 75\" \"upyrs = 77\" \"upyrs = 79\"\n1/3 Running MSE for: ZeroC (East)  ZeroC (West)\n..",
        "There were 23 warnings (use warnings() to see them)",
        "\n",
        "> ",
        "MPs<-GTMPs #c(MPs1,GTMPs)",
        "> ",
        "",
        "> ",
        "#MPs<-list(c(\"GT3\",\"GT3\"),",
        "> ",
        "#          c(\"GT4\",\"GT4\"))",
        "> ",
        "",
        "> ",
        "#MPs<-GTMPs",
        "> ",
        "sfInit(parallel=T,cpus=parallel::detectCores()/2)",
        "R Version:  R version 4.2.1 (2022-06-23 ucrt) \n\n",
        "snowfall 1.84-6.2 initialized (using snow 0.4-4): parallel execution on 8 CPUs.\n\n",
        "> ",
        "sfExport(list=list(\"Good_Obs\",\"Perfect_Obs\",\"Ann_Cat\",\"Unreported_20\",\"OM_1d\",\"GTMP\"))",
        "> ",
        "sfExport(list=as.list(paste0(\"U\",1:10)))",
        "> ",
        "sfExport(list=as.list(paste0(\"GT\",1:14)))",
        "> ",
        "",
        "> ",
        "sfExport(list=list(\"TDs\",\"OMs\",\"ryrs\",\"ind\",\"tagnos\",\"MPs\"))",
        "> ",
        "sfLibrary(\"ABTMSE\",character.only=TRUE, verbose=FALSE)",
        "Library ABTMSE loaded.\n",
        "Library ABTMSE loaded in cluster.\n\n",
        "> ",
        "sfLibrary(\"ABTGT\", character.only=TRUE, verbose=FALSE)",
        "Library ABTGT loaded.\n",
        "Library ABTGT loaded in cluster.\n\n",
        "> ",
        "sfLibrary(\"TMB\", character.only=TRUE, verbose=FALSE)",
        "Library TMB loaded.\n",
        "Library TMB loaded in cluster.\n\n",
        "\nAttaching package: ‘TMB’\n\n",
        "The following object is masked from ‘package:shiny’:\n\n    runExample\n\n",
        "> ",
        "doMSEfunc<-function(x,MPs){",
        "+ ",
        "  tt<-ind[x,1]; oo<-ind[x,2]; tn<-ind[x,3]",
        "+ ",
        "  TD<-get(TDs[tt])",
        "+ ",
        "  OM<-readRDS(OMs[oo])",
        "+ ",
        "  #OM<-readRDS(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Testing/OMtest.rda\")",
        "+ ",
        "",
        "+ ",
        "  set.seed(1)",
        "+ ",
        "  OM@seed<-oo+20000",
        "+ ",
        "  GT <- make_GT(OM,nT=tagnos[tn],RD=TDs[tt],ryrs=ryrs)",
        "+ ",
        "  GT$GTcheck=F",
        "+ ",
        "  obj<-new('MSE_GT',OM,MPs,GT=GT)",
        "+ ",
        "  saveRDS(obj,paste0(\"C:/temp/MSEs_GT/Closed_loop/MSE_\",tt,\"_\",oo,\"_\",tn))",
        "+ ",
        "}",
        "> ",
        "sfSapply(1:nrow(ind),doMSEfunc)",
        "Error in checkForRemoteErrors(val) : \n  8 nodes produced errors; first error: argument \"MPs\" is missing, with no default\n",
        "> ",
        "MPs<-GTMPs ",
        "> ",
        "MPs",
        "[[1]]\n[1] \"GT2\" \"GT2\"\n\n[[2]]\n[1] \"GT3\" \"GT3\"\n\n[[3]]\n[1] \"GT4\" \"GT4\"\n\n[[4]]\n[1] \"GT5\" \"GT5\"\n\n[[5]]\n[1] \"GT6\" \"GT6\"\n\n[[6]]\n[1] \"GT7\" \"GT7\"\n\n[[7]]\n[1] \"GT8\" \"GT8\"\n\n[[8]]\n[1] \"GT9\" \"GT9\"\n\n[[9]]\n[1] \"GT10\" \"GT10\"\n\n[[10]]\n[1] \"GT11\" \"GT11\"\n\n[[11]]\n[1] \"GT12\" \"GT12\"\n\n[[12]]\n[1] \"GT13\" \"GT13\"\n\n[[13]]\n[1] \"GT14\" \"GT14\"\n\n",
        "> ",
        "sfSapply(1:nrow(ind),doMSEfunc, MPs=MPs)",
        "Error in unserialize(node$con) : error reading from connection\n",
        "> ",
        "OMs",
        "[1] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_1.rda\"\n[2] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_2.rda\"\n[3] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_3.rda\"\n[4] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_1.rda\"\n[5] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_2.rda\"\n[6] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_3.rda\"\n[7] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_1.rda\"",
        "\n[8] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_2.rda\"\n[9] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_3.rda\"\n",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/GTMP.R\", echo=TRUE)",
        "\n> # GTMP code\n> \n> GTMP<-function(x,dset,AS,targU=0.075,enp.mult=0.15,maxDown=0.3, maxUp=0.2){\n+   thisyr<-length(dset[[1]]$Iobs[x,1,])\n+ \n+   smooth< .... [TRUNCATED] \n\n> class(GTMP)<-\"MSMP\"\n\n> GT1<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.01)\n\n> GT2<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.02)\n\n> GT3<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.03)\n\n> GT4<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.04)\n\n> GT5<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.05)\n\n> GT6<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.06)",
        "\n\n> GT7<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.07)\n\n> GT8<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.08)\n\n> GT9<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.09)\n\n> GT10<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.1)\n\n> GT11<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.11)\n\n> GT12<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.12)\n\n> GT13<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.13)\n\n> GT14<-function(x,dset,AS)GTMP(x,dset,AS,targU=0.14)\n\n> class(GT1)<-class(GT2)<-class(GT3)<-class(GT4)<-class(GT5)<-class(GT6)<-class(GT7)<-class(GT8)<-class(GT9)<-class(GT10)<-class(GT11)<-class(GT12)<-c",
        " .... [TRUNCATED] \n\n> GTMPs<-list(c(\"GT2\",\"GT2\"),\n+             c(\"GT3\",\"GT3\"),\n+             c(\"GT4\",\"GT4\"),\n+             c(\"GT5\",\"GT5\"),\n+             c(\"GT6\",\"GT6\"),\n .... [TRUNCATED] \n\n> GTMPs_short<-list(c(\"GT2\",\"GT2\"),\n+             c(\"GT4\",\"GT4\"),\n+             c(\"GT6\",\"GT6\"),\n+             c(\"GT8\",\"GT8\"),\n+             c(\"GT10\",\" ...\" ... [TRUNCATED] \n",
        "> ",
        "sfStop()",
        "\nStopping cluster\n\n",
        "Error in serialize(data, node$con) : error writing to connection\n",
        "\nRestarting R session...\n\n",
        "> ",
        "library(ABTMSE)",
        "Loading required package: roxygen2\n",
        "Loading required package: snowfall\n",
        "Loading required package: snow\n",
        "Loading required package: maps\n",
        "Loading required package: mapdata\n",
        "Loading required package: wordcloud\n",
        "Loading required package: RColorBrewer\n",
        "Loading required package: abind\n",
        "Loading required package: PBSmapping\n",
        "\n-----------------------------------------------------------\nPBS Mapping 2.73.1 -- Copyright (C) 2003-2022 Fisheries and Oceans Canada\n\nPBS Mapping comes with ABSOLUTELY NO WARRANTY;\nfor details see the file COPYING.\nThis is free software, and you are welcome to redistribute\nit under certain conditions, as outlined in the above file.\n\nA complete user guide 'PBSmapping-UG.pdf' is located at \nC:/Program Files/R/R-4.2.1/library/PBSmapping/doc/PBSmapping-UG.pdf\n\nPackaged on 2022-07-12\nPacific Biological Station, Nanaimo\n\nAll available PBS packages can be found at\nhttps://github.com/pbs-software\n\nTo see demos, type '.PBSfigs()'.\n-----------------------------------------------------------\n\n\n",
        "Loading required package: MASS\n",
        "Loading required package: shiny\n",
        "Loading required package: parallel\n",
        "\nAttaching package: ‘parallel’\n\n",
        "The following objects are masked from ‘package:snow’:\n\n    clusterApply, clusterApplyLB, clusterCall, clusterEvalQ, clusterExport, clusterMap,\n    clusterSplit, makeCluster, parApply, parCapply, parLapply, parRapply, parSapply,\n    splitIndices, stopCluster\n\n",
        "Loading required package: lubridate\n",
        "\nAttaching package: ‘lubridate’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    date, intersect, setdiff, union\n\n",
        "Loading required package: rmarkdown\n",
        "Loading required package: knitr\n",
        "Loading required package: mvtnorm\n",
        "Loading required package: ggplot2\n",
        "Loading required package: dplyr\n",
        "\nAttaching package: ‘dplyr’\n\n",
        "The following object is masked from ‘package:MASS’:\n\n    select\n\n",
        "The following objects are masked from ‘package:stats’:\n\n    filter, lag\n\n",
        "The following objects are masked from ‘package:base’:\n\n    intersect, setdiff, setequal, union\n\n",
        "Loading required package: kableExtra\n",
        "\nAttaching package: ‘kableExtra’\n\n",
        "The following object is masked from ‘package:dplyr’:\n\n    group_rows\n\n",
        "Loading required package: DT\n",
        "\nAttaching package: ‘DT’\n\n",
        "The following objects are masked from ‘package:shiny’:\n\n    dataTableOutput, renderDataTable\n\n",
        "Loading required package: geoR\n",
        "--------------------------------------------------------------\n Analysis of Geostatistical Data\n For an Introduction to geoR go to http://www.leg.ufpr.br/geoR\n geoR version 1.9-2 (built on 2022-08-09) is now loaded\n--------------------------------------------------------------\n\n",
        "Loading required package: shinyBS\n",
        "Loading required package: shinyWidgets\n",
        "Loading required package: fmsb\n",
        "Loading required package: viridis\n",
        "Loading required package: viridisLite\n",
        "\nAttaching package: ‘viridis’\n\n",
        "The following object is masked from ‘package:maps’:\n\n    unemp\n\n",
        "Loading required package: reldist\n",
        "reldist: Relative Distribution Methods\nVersion 1.7-1 created on 2022-05-14.\ncopyright (c) 2003, Mark S. Handcock, University of California-Los Angeles\n For citation information, type citation(\"reldist\").\n Type help(package=\"reldist\") to get started.\n\n",
        "Loading required package: quantreg\n",
        "Loading required package: SparseM\n",
        "\nAttaching package: ‘SparseM’\n\n",
        "The following object is masked from ‘package:base’:\n\n    backsolve\n\n",
        "\nAttaching package: ‘ABTMSE’\n\n",
        "The following object is masked from ‘package:reldist’:\n\n    resplot\n\n",
        "> ",
        "library(ABTGT)",
        "Loading required package: PerformanceAnalytics\n",
        "Loading required package: xts\n",
        "Loading required package: zoo\n",
        "\nAttaching package: ‘zoo’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    as.Date, as.Date.numeric\n\n",
        "\nAttaching package: ‘xts’\n\n",
        "The following objects are masked from ‘package:dplyr’:\n\n    first, last\n\n",
        "\nAttaching package: ‘PerformanceAnalytics’\n\n",
        "The following object is masked from ‘package:ABTMSE’:\n\n    CDD\n\n",
        "The following object is masked from ‘package:wordcloud’:\n\n    textplot\n\n",
        "The following object is masked from ‘package:graphics’:\n\n    legend\n\n",
        "Loading required package: mc2d\n",
        "\nAttaching package: ‘mc2d’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    pmax, pmin\n\n",
        "> ",
        "loadABT()",
        "ABT-MSE objects loaded\n",
        "> ",
        "",
        "> ",
        "setwd(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag\")",
        "> ",
        "OMs<-list.files(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs\",full.names = T,include.dirs = T)",
        "> ",
        "nOM <- length(OMs)",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/UMSY MPs.R\") # loads MPs",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/GTMP.R\")",
        "> ",
        "",
        "> ",
        "setwd(\"C:/GitHub/ABTGT/ABTGT/R\")",
        "> ",
        "#setwd(\"C:/Users/tcarruth/Documents/GitHub/ABTGT/ABTGT/R\")",
        "> ",
        "#source(\"00_functions_Brownie.R\")",
        "> ",
        "",
        "> ",
        "TDnam <- c(\"Rel. to catches\", \"Balanced\",\"Uniform\",\"Rel. to F\",\"Conv. Tag\",\"E. Tag\")",
        "> ",
        "TDs  <- c(\"Rel_cat_2019\",\"Balanced\",\"Uniform\",\"Rel_F_2019\",\"Conv_Tag\",\"E_Tag\")",
        "> ",
        "nTD<-length(TDs)",
        "> ",
        "ryrs<-25",
        "> ",
        "tagnos<-c(200,500)*ryrs # total releases over 10 years (average per year)",
        "> ",
        "ntn<-length(tagnos)",
        "> ",
        "",
        "> ",
        "ind<-expand.grid(6,1:nOM,1:ntn)",
        "> ",
        "nOM",
        "[1] 9\n",
        "> ",
        "ind<-expand.grid(6,1:2,1:ntn)",
        "> ",
        "ind",
        "  Var1 Var2 Var3\n1    6    1    1\n2    6    2    1\n3    6    1    2\n4    6    2    2\n",
        "> ",
        "dontrepeat=F",
        "> ",
        "if(dontrepeat){",
        "+ ",
        "  Estfiles_s<-list.files(\"C:/temp/MSEs_GT/Closed_loop\")",
        "+ ",
        "  tt<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][2]))",
        "+ ",
        "  oo<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][3]))",
        "+ ",
        "  tn<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][4]))",
        "+ ",
        "  filecodes<-paste(tt,oo,tn,sep=\"_\")",
        "+ ",
        "  indcodes<-paste(ind[,1],ind[,2],ind[,3],sep=\"_\")",
        "+ ",
        "  keep<-!(indcodes%in%filecodes)",
        "+ ",
        "  ind<-ind[keep,]",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "#MPs<-GTMPs #c(MPs1,GTMPs)",
        "> ",
        "MPs<-GTMPs_short",
        "> ",
        "MPs",
        "[[1]]\n[1] \"GT2\" \"GT2\"\n\n[[2]]\n[1] \"GT4\" \"GT4\"\n\n[[3]]\n[1] \"GT6\" \"GT6\"\n\n[[4]]\n[1] \"GT8\" \"GT8\"\n\n[[5]]\n[1] \"GT10\" \"GT10\"\n\n[[6]]\n[1] \"GT12\" \"GT12\"\n\n[[7]]\n[1] \"GT14\" \"GT14\"\n\n",
        "> ",
        "doMSEfunc<-function(x,MPs){",
        "+ ",
        "  tt<-ind[x,1]; oo<-ind[x,2]; tn<-ind[x,3]",
        "+ ",
        "  TD<-get(TDs[tt])",
        "+ ",
        "  OM<-readRDS(OMs[oo])",
        "+ ",
        "  #OM<-readRDS(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Testing/OMtest.rda\")",
        "+ ",
        "",
        "+ ",
        "  set.seed(1)",
        "+ ",
        "  OM@seed<-oo+20000",
        "+ ",
        "  GT <- make_GT(OM,nT=tagnos[tn],RD=TDs[tt],ryrs=ryrs)",
        "+ ",
        "  GT$GTcheck=F",
        "+ ",
        "  obj<-new('MSE_GT',OM,MPs,GT=GT)",
        "+ ",
        "  saveRDS(obj,paste0(\"C:/temp/MSEs_GT/Closed_loop/MSE_\",tt,\"_\",oo,\"_\",tn))",
        "+ ",
        "}",
        "> ",
        "nrow(ind)",
        "[1] 4\n",
        "> ",
        "sapply(1:nrow(ind),doMSEfunc, MPs=MPs)",
        "Constructing arrays\nCalculating historical fishing mortality rate at length (computationally intensive)\n",
        "> ",
        "> ",
        "OMs",
        "Error: object 'OMs' not found\n",
        "> ",
        "OMs",
        "Error: object 'OMs' not found\n",
        "> ",
        "setwd(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag\")",
        "> ",
        "OMs<-list.files(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs\",full.names = T,include.dirs = T)",
        "> ",
        "OMs",
        "[1] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_1.rda\"\n[2] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_2.rda\"\n[3] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_3.rda\"\n[4] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_1.rda\"\n[5] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_2.rda\"\n[6] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_3.rda\"\n[7] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_1.rda\"",
        "\n[8] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_2.rda\"\n[9] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_3.rda\"\n\nRestarting R session...\n\n",
        "> ",
        "library(ABTMSE)",
        "Loading required package: roxygen2\n",
        "Loading required package: snowfall\n",
        "Loading required package: snow\n",
        "Loading required package: maps\n",
        "Loading required package: mapdata\n",
        "Loading required package: wordcloud\n",
        "Loading required package: RColorBrewer\n",
        "Loading required package: abind\n",
        "Loading required package: PBSmapping\n",
        "\n-----------------------------------------------------------\nPBS Mapping 2.73.1 -- Copyright (C) 2003-2022 Fisheries and Oceans Canada\n\nPBS Mapping comes with ABSOLUTELY NO WARRANTY;\nfor details see the file COPYING.\nThis is free software, and you are welcome to redistribute\nit under certain conditions, as outlined in the above file.\n\nA complete user guide 'PBSmapping-UG.pdf' is located at \nC:/Program Files/R/R-4.2.1/library/PBSmapping/doc/PBSmapping-UG.pdf\n\nPackaged on 2022-07-12\nPacific Biological Station, Nanaimo\n\nAll available PBS packages can be found at\nhttps://github.com/pbs-software\n\nTo see demos, type '.PBSfigs()'.\n-----------------------------------------------------------\n\n\n",
        "Loading required package: MASS\n",
        "Loading required package: shiny\n",
        "Loading required package: parallel\n",
        "\nAttaching package: ‘parallel’\n\n",
        "The following objects are masked from ‘package:snow’:\n\n    clusterApply, clusterApplyLB, clusterCall, clusterEvalQ, clusterExport, clusterMap,\n    clusterSplit, makeCluster, parApply, parCapply, parLapply, parRapply, parSapply,\n    splitIndices, stopCluster\n\n",
        "Loading required package: lubridate\n",
        "\nAttaching package: ‘lubridate’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    date, intersect, setdiff, union\n\n",
        "Loading required package: rmarkdown\n",
        "Loading required package: knitr\n",
        "Loading required package: mvtnorm\n",
        "Loading required package: ggplot2\n",
        "Loading required package: dplyr\n",
        "\nAttaching package: ‘dplyr’\n\n",
        "The following object is masked from ‘package:MASS’:\n\n    select\n\n",
        "The following objects are masked from ‘package:stats’:\n\n    filter, lag\n\n",
        "The following objects are masked from ‘package:base’:\n\n    intersect, setdiff, setequal, union\n\n",
        "Loading required package: kableExtra\n",
        "\nAttaching package: ‘kableExtra’\n\n",
        "The following object is masked from ‘package:dplyr’:\n\n    group_rows\n\n",
        "Loading required package: DT\n",
        "\nAttaching package: ‘DT’\n\n",
        "The following objects are masked from ‘package:shiny’:\n\n    dataTableOutput, renderDataTable\n\n",
        "Loading required package: geoR\n",
        "--------------------------------------------------------------\n Analysis of Geostatistical Data\n For an Introduction to geoR go to http://www.leg.ufpr.br/geoR\n geoR version 1.9-2 (built on 2022-08-09) is now loaded\n--------------------------------------------------------------\n\n",
        "Loading required package: shinyBS\n",
        "Loading required package: shinyWidgets\n",
        "Loading required package: fmsb\n",
        "Loading required package: viridis\n",
        "Loading required package: viridisLite\n",
        "\nAttaching package: ‘viridis’\n\n",
        "The following object is masked from ‘package:maps’:\n\n    unemp\n\n",
        "Loading required package: reldist\n",
        "reldist: Relative Distribution Methods\nVersion 1.7-1 created on 2022-05-14.\ncopyright (c) 2003, Mark S. Handcock, University of California-Los Angeles\n For citation information, type citation(\"reldist\").\n Type help(package=\"reldist\") to get started.\n\n",
        "Loading required package: quantreg\n",
        "Loading required package: SparseM\n",
        "\nAttaching package: ‘SparseM’\n\n",
        "The following object is masked from ‘package:base’:\n\n    backsolve\n\n",
        "\nAttaching package: ‘ABTMSE’\n\n",
        "The following object is masked from ‘package:reldist’:\n\n    resplot\n\n",
        "> ",
        "library(ABTGT)",
        "Loading required package: PerformanceAnalytics\n",
        "Loading required package: xts\n",
        "Loading required package: zoo\n",
        "\nAttaching package: ‘zoo’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    as.Date, as.Date.numeric\n\n",
        "\nAttaching package: ‘xts’\n\n",
        "The following objects are masked from ‘package:dplyr’:\n\n    first, last\n\n",
        "\nAttaching package: ‘PerformanceAnalytics’\n\n",
        "The following object is masked from ‘package:ABTMSE’:\n\n    CDD\n\n",
        "The following object is masked from ‘package:wordcloud’:\n\n    textplot\n\n",
        "The following object is masked from ‘package:graphics’:\n\n    legend\n\n",
        "Loading required package: mc2d\n",
        "\nAttaching package: ‘mc2d’\n\n",
        "The following objects are masked from ‘package:base’:\n\n    pmax, pmin\n\n",
        "> ",
        "loadABT()",
        "ABT-MSE objects loaded\n",
        "> ",
        "",
        "> ",
        "setwd(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag\")",
        "> ",
        "OMs<-list.files(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs\",full.names = T,include.dirs = T)",
        "> ",
        "nOM <- length(OMs)",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/UMSY MPs.R\") # loads MPs",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/GTMP.R\")",
        "> ",
        "",
        "> ",
        "setwd(\"C:/GitHub/ABTGT/ABTGT/R\")",
        "> ",
        "#setwd(\"C:/Users/tcarruth/Documents/GitHub/ABTGT/ABTGT/R\")",
        "> ",
        "#source(\"00_functions_Brownie.R\")",
        "> ",
        "",
        "> ",
        "TDnam <- c(\"Rel. to catches\", \"Balanced\",\"Uniform\",\"Rel. to F\",\"Conv. Tag\",\"E. Tag\")",
        "> ",
        "TDs  <- c(\"Rel_cat_2019\",\"Balanced\",\"Uniform\",\"Rel_F_2019\",\"Conv_Tag\",\"E_Tag\")",
        "> ",
        "nTD<-length(TDs)",
        "> ",
        "ryrs<-25",
        "> ",
        "tagnos<-c(200,500)*ryrs # total releases over 10 years (average per year)",
        "> ",
        "ntn<-length(tagnos)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "#ind<-expand.grid(6,1:nOM,1:ntn)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# --------------results for OM #1 -------------------------------------------------------------",
        "> ",
        "",
        "> ",
        "ind<-expand.grid(6,1:2,1:ntn)",
        "> ",
        "",
        "> ",
        "dontrepeat=F",
        "> ",
        "if(dontrepeat){",
        "+ ",
        "  Estfiles_s<-list.files(\"C:/temp/MSEs_GT/Closed_loop\")",
        "+ ",
        "  tt<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][2]))",
        "+ ",
        "  oo<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][3]))",
        "+ ",
        "  tn<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][4]))",
        "+ ",
        "  filecodes<-paste(tt,oo,tn,sep=\"_\")",
        "+ ",
        "  indcodes<-paste(ind[,1],ind[,2],ind[,3],sep=\"_\")",
        "+ ",
        "  keep<-!(indcodes%in%filecodes)",
        "+ ",
        "  ind<-ind[keep,]",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "#MPs<-GTMPs #c(MPs1,GTMPs)",
        "> ",
        "MPs<-GTMPs_short",
        "\nRestarting R session...\n\n",
        "> ",
        "library(ABTGT)",
        "> ",
        "library(ABTMSE)",
        "> ",
        "library(ABTGT)",
        "> ",
        "loadABT()",
        "ABT-MSE objects loaded\n",
        "> ",
        "",
        "> ",
        "setwd(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag\")",
        "> ",
        "OMs<-list.files(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs\",full.names = T,include.dirs = T)",
        "> ",
        "nOM <- length(OMs)",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/UMSY MPs.R\") # loads MPs",
        "> ",
        "source(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Methods/Source/GTMP.R\")",
        "> ",
        "",
        "> ",
        "setwd(\"C:/GitHub/ABTGT/ABTGT/R\")",
        "> ",
        "#setwd(\"C:/Users/tcarruth/Documents/GitHub/ABTGT/ABTGT/R\")",
        "> ",
        "#source(\"00_functions_Brownie.R\")",
        "> ",
        "",
        "> ",
        "TDnam <- c(\"Rel. to catches\", \"Balanced\",\"Uniform\",\"Rel. to F\",\"Conv. Tag\",\"E. Tag\")",
        "> ",
        "TDs  <- c(\"Rel_cat_2019\",\"Balanced\",\"Uniform\",\"Rel_F_2019\",\"Conv_Tag\",\"E_Tag\")",
        "> ",
        "nTD<-length(TDs)",
        "> ",
        "ryrs<-25",
        "> ",
        "tagnos<-c(200,500)*ryrs # total releases over 10 years (average per year)",
        "> ",
        "ntn<-length(tagnos)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "#ind<-expand.grid(6,1:nOM,1:ntn)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# --------------results for OM #1 -------------------------------------------------------------",
        "> ",
        "",
        "> ",
        "ind<-expand.grid(6,1:2,1:ntn)",
        "> ",
        "",
        "> ",
        "dontrepeat=F",
        "> ",
        "if(dontrepeat){",
        "+ ",
        "  Estfiles_s<-list.files(\"C:/temp/MSEs_GT/Closed_loop\")",
        "+ ",
        "  tt<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][2]))",
        "+ ",
        "  oo<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][3]))",
        "+ ",
        "  tn<-as.numeric(sapply(Estfiles_s,function(x)strsplit(x,\"_\")[[1]][4]))",
        "+ ",
        "  filecodes<-paste(tt,oo,tn,sep=\"_\")",
        "+ ",
        "  indcodes<-paste(ind[,1],ind[,2],ind[,3],sep=\"_\")",
        "+ ",
        "  keep<-!(indcodes%in%filecodes)",
        "+ ",
        "  ind<-ind[keep,]",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "#MPs<-GTMPs #c(MPs1,GTMPs)",
        "> ",
        "MPs<-GTMPs_short",
        "> ",
        " MPs<-list(c(\"GT3\",\"GT3\"))",
        "> ",
        "doMSEfunc<-function(x,MPs){",
        "+ ",
        "  tt<-ind[x,1]; oo<-ind[x,2]; tn<-ind[x,3]",
        "+ ",
        "  TD<-get(TDs[tt])",
        "+ ",
        "  #OM<-readRDS(OMs[oo])",
        "+ ",
        "  OM<-readRDS(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Testing/OMtest.rda\")",
        "+ ",
        "",
        "+ ",
        "  set.seed(1)",
        "+ ",
        "  OM@seed<-oo+20000",
        "+ ",
        "  GT <- make_GT(OM,nT=tagnos[tn],RD=TDs[tt],ryrs=ryrs)",
        "+ ",
        "  GT$GTcheck=F",
        "+ ",
        "  obj<-new('MSE_GT',OM,MPs,GT=GT)",
        "+ ",
        "  saveRDS(obj,paste0(\"C:/temp/MSEs_GT/Closed_loop/MSE_\",tt,\"_\",oo,\"_\",tn))",
        "+ ",
        "}",
        "> ",
        "nrow(ind)",
        "[1] 4\n",
        "> ",
        "sapply(1:nrow(ind),doMSEfunc, MPs=MPs)",
        "Constructing arrays\nCalculating historical fishing mortality rate at length (computationally intensive)\nInitializing simulations\nRunning historical simulations\nRunning projections\n[1] \"MPlag = 4\"\n [1] \"upyrs = 59\" \"upyrs = 61\" \"upyrs = 63\" \"upyrs = 65\" \"upyrs = 67\" \"upyrs = 69\" \"upyrs = 71\"\n [8] \"upyrs = 73\" \"upyrs = 75\" \"upyrs = 77\" \"upyrs = 79\"\n1/1 Running MSE for: GT3 (East)  GT3 (West)\n.....Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\n\nConstructing arrays\nCalculating historical fishing mortality rate at length (computationally intensive)\nInitializing simulations\nRunning historical simulations\nRunning projections\n[1] \"MPlag = 4\"\n [1] \"upyrs = 59\" \"upyrs = 61\" \"upyrs = 63\" \"upyrs = 65\" \"upyrs = 67\" \"upyrs = 69\" \"upyrs = 71\"\n [8] \"upyrs = 73\" \"upyrs = 75\" \"upyrs = 77\" \"upyrs = 79\"\n1/1 Running MSE for: GT3 (East)  GT3 (West)\n.....Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 4 external pointers will be removed\n\nConstructing arrays\nCalculating historical fishing mortality rate at length (computationally intensive)\nInitializing simulations\nRunning historical simulations\nRunning projections\n[1] \"MPlag = 4\"\n [1] \"upyrs = 59\" \"upyrs = 61\" \"upyrs = 63\" \"upyrs = 65\" \"upyrs = 67\" \"upyrs = 69\" \"upyrs = 71\"\n [8] \"upyrs = 73\" \"upyrs = 75\" \"upyrs = 77\" \"upyrs = 79\"\n1/1 Running MSE for: GT3 (East)  GT3 (West)\n.....Warning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n\nConstructing arrays\nCalculating historical fishing mortality rate at length (computationally intensive)\nInitializing simulations\nRunning historical simulations\nRunning projections\n[1] \"MPlag = 4\"\n [1] \"upyrs = 59\" \"upyrs = 61\" \"upyrs = 63\" \"upyrs = 65\" \"upyrs = 67\" \"upyrs = 69\" \"upyrs = 71\"\n [8] \"upyrs = 73\" \"upyrs = 75\" \"upyrs = 77\" \"upyrs = 79\"\n1/1 Running MSE for: GT3 (East)  GT3 (West)",
        "\n.....Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 4 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n..Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n",
        "Warning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\nWarning: 5 external pointers will be removed\n\n[[1]]\nNULL\n\n[[2]]\nNULL\n\n[[3]]\nNULL\n\n[[4]]\nNULL\n\n",
        "There were 50 or more warnings (use warnings() to see the first 50)",
        "\n",
        "> ",
        "warnings()",
        "Warning messages:\n1: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n2: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n3: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n4: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n5: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n6: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n7: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n8: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation",
        "\n9: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n10: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n11: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n12: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n13: In sqrt(diag(cov)) : NaNs produced\n14: In sqrt(diag(cov)) : NaNs produced\n15: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n16: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n17: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation",
        "\n18: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n19: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n20: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n21: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n22: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n23: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n24: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n25: In sqrt(diag(cov)) : NaNs produced",
        "\n26: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n27: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n28: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n29: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n30: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n31: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n32: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n33: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation",
        "\n34: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n35: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n36: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n37: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n38: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n39: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n40: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n41: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation",
        "\n42: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n43: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n44: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n45: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n46: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n47: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n48: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n49: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation",
        "\n50: In nlminb(obj$par, obj$fn, obj$gr) : NA/NaN function evaluation\n",
        "> ",
        "sfInit(parallel=T,cpus=4)#parallel::detectCores()/2)",
        "R Version:  R version 4.2.1 (2022-06-23 ucrt) \n\n",
        "snowfall 1.84-6.2 initialized (using snow 0.4-4): parallel execution on 4 CPUs.\n\n",
        "> ",
        "sfExport(list=list(\"Good_Obs\",\"Perfect_Obs\",\"Ann_Cat\",\"Unreported_20\",\"OM_1d\",\"GTMP\"))",
        "> ",
        "sfExport(list=as.list(paste0(\"U\",1:10)))",
        "> ",
        "sfExport(list=as.list(paste0(\"GT\",1:14)))",
        "> ",
        "",
        "> ",
        "sfExport(list=list(\"TDs\",\"OMs\",\"ryrs\",\"ind\",\"tagnos\",\"MPs\"))",
        "> ",
        "sfLibrary(\"ABTMSE\",character.only=TRUE, verbose=FALSE)",
        "Library ABTMSE loaded.\n",
        "Library ABTMSE loaded in cluster.\n\n",
        "> ",
        "sfLibrary(\"ABTGT\", character.only=TRUE, verbose=FALSE)",
        "Library ABTGT loaded.\n",
        "Library ABTGT loaded in cluster.\n\n",
        "> ",
        "sfLibrary(\"TMB\", character.only=TRUE, verbose=FALSE)",
        "Library TMB loaded.\n",
        "Library TMB loaded in cluster.\n\n",
        "\nAttaching package: ‘TMB’\n\n",
        "The following object is masked from ‘package:shiny’:\n\n    runExample\n\n",
        "> ",
        "doMSEfunc<-function(x,MPs){",
        "+ ",
        "  tt<-ind[x,1]; oo<-ind[x,2]; tn<-ind[x,3]",
        "+ ",
        "  TD<-get(TDs[tt])",
        "+ ",
        "  #OM<-readRDS(OMs[oo])",
        "+ ",
        "  OM<-readRDS(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Testing/OMtest.rda\")",
        "+ ",
        "",
        "+ ",
        "  set.seed(1)",
        "+ ",
        "  OM@seed<-oo+20000",
        "+ ",
        "  GT <- make_GT(OM,nT=tagnos[tn],RD=TDs[tt],ryrs=ryrs)",
        "+ ",
        "  GT$GTcheck=F",
        "+ ",
        "  obj<-new('MSE_GT',OM,MPs,GT=GT)",
        "+ ",
        "  saveRDS(obj,paste0(\"C:/temp/MSEs_GT/Closed_loop/MSE_\",tt,\"_\",oo,\"_\",tn))",
        "+ ",
        "}",
        "> ",
        "",
        "> ",
        "sfSapply(1:nrow(ind),doMSEfunc, MPs=MPs)",
        "[[1]]\nNULL\n\n[[2]]\nNULL\n\n[[3]]\nNULL\n\n[[4]]\nNULL\n\n",
        "> ",
        "doMSEfunc<-function(x,MPs){",
        "+ ",
        "  tt<-ind[x,1]; oo<-ind[x,2]; tn<-ind[x,3]",
        "+ ",
        "  TD<-get(TDs[tt])",
        "+ ",
        "  OM<-readRDS(OMs[oo])",
        "+ ",
        "  #OM<-readRDS(\"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/Testing/OMtest.rda\")",
        "+ ",
        "",
        "+ ",
        "  set.seed(1)",
        "+ ",
        "  OM@seed<-oo+20000",
        "+ ",
        "  GT <- make_GT(OM,nT=tagnos[tn],RD=TDs[tt],ryrs=ryrs)",
        "+ ",
        "  GT$GTcheck=F",
        "+ ",
        "  obj<-new('MSE_GT',OM,MPs,GT=GT)",
        "+ ",
        "  saveRDS(obj,paste0(\"C:/temp/MSEs_GT/Closed_loop/MSE_\",tt,\"_\",oo,\"_\",tn))",
        "+ ",
        "}",
        "> ",
        "sfSapply(1:nrow(ind),doMSEfunc, MPs=MPs)",
        "Error in unserialize(node$con) : error reading from connection\n",
        "> ",
        "ind",
        "  Var1 Var2 Var3\n1    6    1    1\n2    6    2    1\n3    6    1    2\n4    6    2    2\n",
        "> ",
        "OMs",
        "[1] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_1.rda\"\n[2] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_2.rda\"\n[3] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_25_3.rda\"\n[4] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_1.rda\"\n[5] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_2.rda\"\n[6] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_31_3.rda\"\n[7] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_1.rda\"",
        "\n[8] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_2.rda\"\n[9] \"G:/Shared drives/BM shared/1. Projects/Bluefin_Gene_Tag/OMs/OM_43_3.rda\"\n",
        "> ",
        "sfStop()",
        "\nStopping cluster\n\n",
        "Error in serialize(data, node$con) : error writing to connection\n",
        "\nRestarting R session...\n\n"
    ]
}